<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Sistema de Gestão</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/graficosAnalytics.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!-- Header Principal -->
    <header class="main-header">
        <div class="header-container">
            <!-- Logo -->
            <div class="logo-container">
                <div class="logo-icon">
                    <p class="storeManagerTitulo">STORE MANAGER</p>
                </div>
            </div>

            <!-- Navegação Principal -->
            <nav class="main-navigation">
                <button class="nav-button" onclick="location.href='gestao_interna.html'">
                    <span class="nav-text">Gestão Interna</span>
                </button>
                <button class="nav-button active" onclick="location.href='analytics.html'">
                    <span class="nav-text">Analytics</span>
                </button>
                <button class="nav-button" onclick="location.href='estoque.html'">
                    <span class="nav-text">Estoque</span>
                </button>
            </nav>
        </div>
    </header>

    <!-- Conteúdo principal -->
    <main class="analytics-main">
        <div class="analytics-container">

            <!-- CARD 1 - Distribuição -->
            <div class="chart-card">
                <h2 class="chart-title">Distribuição do Estoque</h2>

                <div class="filter-row">
                    <label>Data:</label>
                    <input type="date" id="inventory-date">
                    <button id="inventory-today-btn" class="filter-btn">Hoje</button>

                    <!--  NOVO: Botões de visualização -->
                    <div style="margin-left: auto; display: flex; gap: 8px;">
                        <button id="chart-type-doughnut" class="chart-type-btn" data-type="doughnut" title="Rosca">Rosca</button>
                        <button id="chart-type-bar" class="chart-type-btn active" data-type="bar" title="Barras">Barras</button>
                        <button id="chart-type-pie" class="chart-type-btn" data-type="pie" title="Pizza">Pizza</button>
                    </div>
                </div>

                <div class="chart-card-body">
                    <canvas id="inventoryChart"></canvas>
                </div>
            </div>

            <!-- CARD 2 - Top Vendas -->
            <div class="chart-card">
                <h2 class="chart-title">Top Produtos Mais Vendidos</h2>

                <table class="table-vendas" id="topSellingCardsTable">
                    <thead>
                        <tr>
                            <th>Produto</th>
                            <th>Total Vendido</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <!-- CARD 3 - Lucro -->
            <div class="chart-card">
                <h2 class="chart-title">Participação de Lucro por Produto</h2>
                <div class="filter-row">
                    <label>Início:</label>
                    <input type="date" id="profit-start-date">
                    <label>Fim:</label>
                    <input type="date" id="profit-end-date">
                    <button id="profit-filter-btn" class="filter-btn">Filtrar</button>

                    <!--  NOVO: Botões de visualização -->
                    <div style="margin-left: auto; display: flex; gap: 8px;">
                        <button id="chart-type-profit-bar" class="chart-type-btn active" data-type="bar" title="Barras">Barras</button>
                        <button id="chart-type-profit-doughnut" class="chart-type-btn" data-type="doughnut" title="Rosca">Rosca</button>
                        <button id="chart-type-profit-pie" class="chart-type-btn" data-type="pie" title="Pizza">Pizza</button>
                    </div>
                </div>
                <div class="chart-card-body">
                    <canvas id="profitChart"></canvas>
                </div>
            </div>

            <!-- CARD 4 - Gasto vs Ganho -->
            <div class="chart-card">
                <h2 class="chart-title">Comparativo Gastos vs Ganhos</h2>

                <div class="filter-row">
                    <label>Início:</label>
                    <input type="date" id="se-start-date">
                    <label>Fim:</label>
                    <input type="date" id="se-end-date">
                    <button id="spend-earn-filter-btn" class="filter-btn">Filtrar</button>
                </div>

                <div class="chart-card-body">
                    <canvas id="spendEarnChart"></canvas>
                </div>
            </div>

            <!-- CARD 5 - Valuation -->
            <div class="chart-card">
                <h2 class="chart-title">Valor Estimado do Estoque ao Longo do Tempo</h2>

                <div class="filter-row">
                    <label>Início:</label>
                    <input type="date" id="valuation-start-date">

                    <label>Fim:</label>
                    <input type="date" id="valuation-end-date">

                    <button id="valuation-filter-btn" class="filter-btn">Filtrar</button>
                </div>

                <div class="chart-card-body">
                    <canvas id="stockValuationChart"></canvas>
                </div>
            </div>

        </div>
    </main>

    <script src="../js/analytics.js"></script>

</body>

</html>